(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{BiSJ:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return c})),n.d(t,"default",(function(){return p}));n("91GP"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("q1tI");var a=n("7ljp"),r=n("XbGe");n("qKvR");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var o,c={},b=(o="Title",function(e){return console.warn("Component "+o+" was not imported, exported, or provided by MDXProvider as global scope"),Object(a.b)("div",e)}),l={_frontmatter:c},d=r.a;function p(e){var t=e.components,n=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["components"]);return Object(a.b)(d,i({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h2",null,"Overview"),Object(a.b)("p",null,"Native and mobile apps cannot store secrets in a secure way. Consequently, it’s not recommended to use the standard\nauthorization code flow, since it requires a client secret when exchanging the authorization code for an access token\non the token endpoint. By selecting the “Native application” option on the IBM Video Streaming dashboard, PKCE\n(",Object(a.b)("a",i({parentName:"p"},{href:"https://tools.ietf.org/html/rfc7636"}),"https://tools.ietf.org/html/rfc7636"),") protocol can be forced to secure the authorization flow. PKCE is a technique for public\nclients to mitigate the threat of having the authorization code intercepted. Clients need to create a secret, then use\nthat secret again when exchanging the authorization code for an access token. This way if the code is intercepted,\nby a malicious application it won’t be able to use it because the token request relies on the initial secret."),Object(a.b)("h3",null,"Generate a code verifier and code challenge"),Object(a.b)("p",null,"Apps must generate a unique code verifier for every authorization request. This value must be transformed to a\n",Object(a.b)("inlineCode",{parentName:"p"},"code_challenge"),", which is sent to the authorization server to obtain the authorization code.\nA ",Object(a.b)("inlineCode",{parentName:"p"},"code_verifier")," is a high-entropy cryptographic random string using the unreserved characters\n",Object(a.b)("inlineCode",{parentName:"p"},"[A-Z]")," / ",Object(a.b)("inlineCode",{parentName:"p"},"[a-z]")," / ",Object(a.b)("inlineCode",{parentName:"p"},"[0-9]")," / ",Object(a.b)("inlineCode",{parentName:"p"},"-")," / ",Object(a.b)("inlineCode",{parentName:"p"},".")," / ",Object(a.b)("inlineCode",{parentName:"p"},"_")," / ",Object(a.b)("inlineCode",{parentName:"p"},"~"),", with a minimum length of 43 characters and a maximum length of 128 characters.\nThe code verifier should have enough entropy to make it impractical to guess the value."),Object(a.b)(b,{mdxType:"Title"},"Supported methods for generating a code challenge"),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",i({parentName:"tr"},{align:null}),"METHOD"),Object(a.b)("th",i({parentName:"tr"},{align:null}),"DESCRIPTION"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"plain")),Object(a.b)("td",i({parentName:"tr"},{align:null}),"The code challenge is the same value as the code verifier generated above. ",Object(a.b)("inlineCode",{parentName:"td"},"code_challenge")," = ",Object(a.b)("inlineCode",{parentName:"td"},"code_verifier"))),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"S256")),Object(a.b)("td",i({parentName:"tr"},{align:null}),"The code challenge is the Base64URL (without padding) encoded SHA256 hash of the code verifier. ",Object(a.b)("inlineCode",{parentName:"td"},"code_challenge")," = ",Object(a.b)("inlineCode",{parentName:"td"},"BASE64URL-ENCODE(SHA256(ASCII(code_verifier)))"))))),Object(a.b)("h3",null,"Send a request to the auth server"),Object(a.b)("p",null,"To obtain user authorization, send a request to the authorization server at ",Object(a.b)("a",i({parentName:"p"},{href:"https://authentication.video.ibm.com/authorize"}),"https://authentication.video.ibm.com/authorize"),". This endpoint handles active session lookup, authenticates the user, and obtains user consent.\nThe authorization server supports the following additional query string parameters for installed applications:"),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",i({parentName:"tr"},{align:null}),"PARAMETER"),Object(a.b)("th",i({parentName:"tr"},{align:null}),"IMPORTANCE"),Object(a.b)("th",i({parentName:"tr"},{align:null}),"DESCRIPTION"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"code_challenge")),Object(a.b)("td",i({parentName:"tr"},{align:null}),"REQUIRED"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"Specifies an encoded ",Object(a.b)("inlineCode",{parentName:"td"},"code_verifier")," that will be used as a server-side challenge during authorization code exchange")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"code_challenge_method")),Object(a.b)("td",i({parentName:"tr"},{align:null}),"OPTIONAL"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"Defaults to ",Object(a.b)("inlineCode",{parentName:"td"},"plain"),". Must be used with ",Object(a.b)("inlineCode",{parentName:"td"},"code_challenge"),". Supported values: ",Object(a.b)("inlineCode",{parentName:"td"},"plain"),", ",Object(a.b)("inlineCode",{parentName:"td"},"S256"))))),Object(a.b)("h3",null,"Exchange authorization code for refresh and access tokens"),Object(a.b)("p",null,"To exchange an authorization code for an access token, call the token endpoint (",Object(a.b)("a",i({parentName:"p"},{href:"https://video.ibm.com/oauth2/token"}),"https://video.ibm.com/oauth2/token"),") and set the following parameters:"),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",i({parentName:"tr"},{align:null}),"PARAMETER"),Object(a.b)("th",i({parentName:"tr"},{align:null}),"TYPE"),Object(a.b)("th",i({parentName:"tr"},{align:null}),"IMPORTANCE"),Object(a.b)("th",i({parentName:"tr"},{align:null}),"DESCRIPTION"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"grant_type")),Object(a.b)("td",i({parentName:"tr"},{align:null}),"string"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"REQUIRED"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"MUST be ",Object(a.b)("inlineCode",{parentName:"td"},"authorization_code")," in this case.")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"client_id")),Object(a.b)("td",i({parentName:"tr"},{align:null}),"string"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"REQUIRED"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"40-character long string, provided by IBM Video Streaming")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"code")),Object(a.b)("td",i({parentName:"tr"},{align:null}),"string"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"REQUIRED"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"The authorization code received from the authorization endpoint")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"code_verifier")),Object(a.b)("td",i({parentName:"tr"},{align:null}),"string"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"REQUIRED"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"Code verifier that has been created")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",i({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"redirect_uri")),Object(a.b)("td",i({parentName:"tr"},{align:null}),"string"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"REQUIRED"),Object(a.b)("td",i({parentName:"tr"},{align:null}),"The redirect URI used by the authorization server to return the authorization response")))),Object(a.b)("h4",null,"Example"),Object(a.b)("p",null,"The following is an example with the authorization code flow using PKCE."),Object(a.b)("p",null,"1 - The client opens a browser with the authorization endpoint:"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"https://authentication.video.ibm.com/authorize\n?response_type=code\n&client_id=AAAAAAAAAABBBBBBBBBBCCCCCCCCCCDDDDDDDDDD\n&redirect_uri=https://example.com/get_auth_code\n&scope=broadcaster\n&state=XYZ\n&code_challenge=bWl6dQ\n&code_challenge_method=S256\n")),Object(a.b)("p",null,"2 - The user enters his/her credentials and presses the Allow button. The browser is redirected to the following URL:"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"http://example.com/get_access_token?code=19d8dbb3ebac55f110c3b526e38bcfdfbf46d659&state=XYZ\n")),Object(a.b)("p",null,"3 - The page handler at ",Object(a.b)("a",i({parentName:"p"},{href:"http://example.com/get_access_token"}),"http://example.com/get_access_token")," retrieves the Access Token using the Token Endpoint:"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"POST /oauth2/token HTTP/1.1\nHost: video.ibm.com\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=authorization_code&client_id=AAAAAAAAAABBBBBBBBBBCCCCCCCCCCDDDDDDDDDD&code=19d8dbb3ebac55f110c3b526e38bcfdfbf46d659&redirect_uri=http://example.com/get_access_token&code_verifier=asdf\n")),Object(a.b)("p",null,"4 - The response of the Token Endpoint contains the access token:"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),'HTTP/1.1 200 OK\nCache-Control: no-store\nContent-Type:application/json; charset=UTF-8\n\n{"access_token":"ab345cdef123ef1267890abcdef04567890abcd1","refresh_token":"cb345cdef123ef1267890abcdef04567890abcd1","token_type":"bearer", "expires_in":86400}\n')))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-api-basics-native-apps-mdx-9fe58a8dcf0538fae7fd.js.map