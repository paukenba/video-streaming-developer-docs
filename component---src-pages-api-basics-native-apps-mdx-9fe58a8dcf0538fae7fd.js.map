{"version":3,"sources":["webpack:///./src/pages/api-basics-native-apps.mdx"],"names":["name","_frontmatter","Title","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-api-basics-native-apps-mdx-9fe58a8dcf0538fae7fd.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/IBM/video-streaming-developer-docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Title = makeShortcode(\"Title\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`Overview`}</h2>\n    <p>{`Native and mobile apps cannot store secrets in a secure way. Consequently, it’s not recommended to use the standard\nauthorization code flow, since it requires a client secret when exchanging the authorization code for an access token\non the token endpoint. By selecting the “Native application” option on the IBM Video Streaming dashboard, PKCE\n(`}<a parentName=\"p\" {...{\n        \"href\": \"https://tools.ietf.org/html/rfc7636\"\n      }}>{`https://tools.ietf.org/html/rfc7636`}</a>{`) protocol can be forced to secure the authorization flow. PKCE is a technique for public\nclients to mitigate the threat of having the authorization code intercepted. Clients need to create a secret, then use\nthat secret again when exchanging the authorization code for an access token. This way if the code is intercepted,\nby a malicious application it won’t be able to use it because the token request relies on the initial secret.`}</p>\n    <h3>{`Generate a code verifier and code challenge`}</h3>\n    <p>{`Apps must generate a unique code verifier for every authorization request. This value must be transformed to a\n`}<inlineCode parentName=\"p\">{`code_challenge`}</inlineCode>{`, which is sent to the authorization server to obtain the authorization code.\nA `}<inlineCode parentName=\"p\">{`code_verifier`}</inlineCode>{` is a high-entropy cryptographic random string using the unreserved characters\n`}<inlineCode parentName=\"p\">{`[A-Z]`}</inlineCode>{` / `}<inlineCode parentName=\"p\">{`[a-z]`}</inlineCode>{` / `}<inlineCode parentName=\"p\">{`[0-9]`}</inlineCode>{` / `}<inlineCode parentName=\"p\">{`-`}</inlineCode>{` / `}<inlineCode parentName=\"p\">{`.`}</inlineCode>{` / `}<inlineCode parentName=\"p\">{`_`}</inlineCode>{` / `}<inlineCode parentName=\"p\">{`~`}</inlineCode>{`, with a minimum length of 43 characters and a maximum length of 128 characters.\nThe code verifier should have enough entropy to make it impractical to guess the value.`}</p>\n    <Title mdxType=\"Title\">Supported methods for generating a code challenge</Title>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`METHOD`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`DESCRIPTION`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`plain`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The code challenge is the same value as the code verifier generated above. `}<inlineCode parentName=\"td\">{`code_challenge`}</inlineCode>{` = `}<inlineCode parentName=\"td\">{`code_verifier`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`S256`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The code challenge is the Base64URL (without padding) encoded SHA256 hash of the code verifier. `}<inlineCode parentName=\"td\">{`code_challenge`}</inlineCode>{` = `}<inlineCode parentName=\"td\">{`BASE64URL-ENCODE(SHA256(ASCII(code_verifier)))`}</inlineCode></td>\n        </tr>\n      </tbody>\n    </table>\n    <h3>{`Send a request to the auth server`}</h3>\n    <p>{`To obtain user authorization, send a request to the authorization server at `}<a parentName=\"p\" {...{\n        \"href\": \"https://authentication.video.ibm.com/authorize\"\n      }}>{`https://authentication.video.ibm.com/authorize`}</a>{`. This endpoint handles active session lookup, authenticates the user, and obtains user consent.\nThe authorization server supports the following additional query string parameters for installed applications:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`PARAMETER`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`IMPORTANCE`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`DESCRIPTION`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`code_challenge`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REQUIRED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Specifies an encoded `}<inlineCode parentName=\"td\">{`code_verifier`}</inlineCode>{` that will be used as a server-side challenge during authorization code exchange`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`code_challenge_method`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`OPTIONAL`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Defaults to `}<inlineCode parentName=\"td\">{`plain`}</inlineCode>{`. Must be used with `}<inlineCode parentName=\"td\">{`code_challenge`}</inlineCode>{`. Supported values: `}<inlineCode parentName=\"td\">{`plain`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`S256`}</inlineCode></td>\n        </tr>\n      </tbody>\n    </table>\n    <h3>{`Exchange authorization code for refresh and access tokens`}</h3>\n    <p>{`To exchange an authorization code for an access token, call the token endpoint (`}<a parentName=\"p\" {...{\n        \"href\": \"https://video.ibm.com/oauth2/token\"\n      }}>{`https://video.ibm.com/oauth2/token`}</a>{`) and set the following parameters:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`PARAMETER`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`TYPE`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`IMPORTANCE`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`DESCRIPTION`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`grant_type`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REQUIRED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`MUST be `}<inlineCode parentName=\"td\">{`authorization_code`}</inlineCode>{` in this case.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`client_id`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REQUIRED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`40-character long string, provided by IBM Video Streaming`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`code`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REQUIRED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The authorization code received from the authorization endpoint`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`code_verifier`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REQUIRED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Code verifier that has been created`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`redirect_uri`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REQUIRED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The redirect URI used by the authorization server to return the authorization response`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h4>{`Example`}</h4>\n    <p>{`The following is an example with the authorization code flow using PKCE.`}</p>\n    <p>{`1 - The client opens a browser with the authorization endpoint:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`https://authentication.video.ibm.com/authorize\n?response_type=code\n&client_id=AAAAAAAAAABBBBBBBBBBCCCCCCCCCCDDDDDDDDDD\n&redirect_uri=https://example.com/get_auth_code\n&scope=broadcaster\n&state=XYZ\n&code_challenge=bWl6dQ\n&code_challenge_method=S256\n`}</code></pre>\n    <p>{`2 - The user enters his/her credentials and presses the Allow button. The browser is redirected to the following URL:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`http://example.com/get_access_token?code=19d8dbb3ebac55f110c3b526e38bcfdfbf46d659&state=XYZ\n`}</code></pre>\n    <p>{`3 - The page handler at `}<a parentName=\"p\" {...{\n        \"href\": \"http://example.com/get_access_token\"\n      }}>{`http://example.com/get_access_token`}</a>{` retrieves the Access Token using the Token Endpoint:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`POST /oauth2/token HTTP/1.1\nHost: video.ibm.com\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=authorization_code&client_id=AAAAAAAAAABBBBBBBBBBCCCCCCCCCCDDDDDDDDDD&code=19d8dbb3ebac55f110c3b526e38bcfdfbf46d659&redirect_uri=http://example.com/get_access_token&code_verifier=asdf\n`}</code></pre>\n    <p>{`4 - The response of the Token Endpoint contains the access token:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`HTTP/1.1 200 OK\nCache-Control: no-store\nContent-Type:application/json; charset=UTF-8\n\n{\"access_token\":\"ab345cdef123ef1267890abcdef04567890abcd1\",\"refresh_token\":\"cb345cdef123ef1267890abcdef04567890abcd1\",\"token_type\":\"bearer\", \"expires_in\":86400}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}