(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{oFWm:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return i})),a.d(t,"default",(function(){return c}));a("91GP"),a("rGqo"),a("yt8O"),a("Btvt"),a("RW0V"),a("q1tI");var r=a("7ljp"),n=a("XbGe");a("qKvR");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var i={},l={_frontmatter:i},d=n.a;function c(e){var t=e.components,a=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["components"]);return Object(r.b)(d,o({},l,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",null,"Implementing a custom frame source"),Object(r.b)("p",null,"You can create your own frame source by implementing ",Object(r.b)("inlineCode",{parentName:"p"},"IBMWatsonMediaFrameSource")," and passing to ",Object(r.b)("inlineCode",{parentName:"p"},"IBMWatsonMediaBroadcaster")," in its init method. Here are the main components of the protocol:"),Object(r.b)("h3",null,"Start and stop capturing"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"startCaptureWithCompletion:completion")," will called by ",Object(r.b)("inlineCode",{parentName:"p"},"IBMWatsonMediaBroadcaster")," to start to emitting frames. Call completion block once the frame sending is started or there was an error during the initialization process. If completion block returns with error ",Object(r.b)("inlineCode",{parentName:"p"},"IBMWatsonMediaBroadcaster")," state will set to ",Object(r.b)("inlineCode",{parentName:"p"},"IBMWatsonMediaVideoBroadcasterStateInitial")," and error will be reported via ",Object(r.b)("inlineCode",{parentName:"p"},"broadcaster:didFailWithError:"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"stopCapture")," calls to the stop frame source."))),Object(r.b)("h3",null,"Preferred output format"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"IBMWatsonMediaCaptureConfig *preferredCaptureConfig")," describes ideal output format of video and audio frames that source should send to the broadcaster. It may change during the session. Note that sending video or audio frames with different format will cause conversion. Video frames with different aspect ratio will be scaled to fit to the preferred resolution with preserved original aspect ratio."),Object(r.b)("h4",null,"Frame source listener"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"id<IBMWatsonMediaFrameSourceListener> delegate")," provides methods to send audio or video frames, reporting error or custom events to the broadcaster."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"If a video or audio frame was produced you can send to the broadcaster with ",Object(r.b)("inlineCode",{parentName:"p"},"frameSource:didOutputSampleBuffer:")," (both video and audio) or ",Object(r.b)("inlineCode",{parentName:"p"},"frameSource:didOutputPixelBuffer:timestamp:"),".")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"If an error happened and capturing cannot be continued you should call ",Object(r.b)("inlineCode",{parentName:"p"},"frameSource:didFailWithError:"),". Broadcast will stop and ",Object(r.b)("inlineCode",{parentName:"p"},"IBMWatsonMediaBroadcaster")," will send a ",Object(r.b)("inlineCode",{parentName:"p"},"didFailedWithError:")," to its delegate."))))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-broadcaster-sdk-ios-customization-mdx-8c2e59a0e65033b2549f.js.map