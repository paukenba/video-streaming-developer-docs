{"componentChunkName":"component---src-pages-ecdn-api-getting-started-mdx","path":"/ecdn-api-getting-started/","result":{"pageContext":{"frontmatter":{"title":"Getting started","description":"Getting started (Auto generated file, please do not modify)"},"relativePagePath":"/ecdn-api-getting-started.mdx","titleType":"page","MdxNode":{"id":"7b187f9f-ecc8-5794-ac97-58e5f5d28409","children":[],"parent":"081110f5-9577-5d06-bf20-a36ca005d6f8","internal":{"content":"---\ntitle: Getting started\ndescription: Getting started (Auto generated file, please do not modify)\n---\n\n## Introduction\n\nThe IBM ECDN (Enterprise Content Delivery Network) API lets you monitor and manage your ECDN locations, servers and other resources.\n\n## Try it out\n\n[API Browser](https://ecdn.video.ibm.com/graphiql) is the easiest way to try ECDN's GraphQL API.\nYou can log in via your ECDN credentials.\nGenerated documentation can be found by opening `Docs` in the upper-right corner, which are also available on this site.\n\n## GraphQL\n\nWe suggest reading the [official GraphQL documentation](https://graphql.org/learn/)\nto get a basic understanding of its usage. This documentation focuses on ECDN specific usage.\n\n### All/specific resources\n\nWe will use `servers` and `locations` throughout this document, which covers all servers and/or all locations when used.\nIf you want to query them one-by-one use `serverByID` and `locationByID` instead. i.e:\n\n```graphql\n{\n\tlocations {\n\t\tid\n\t\tname\n\t}\n}\n```\n\nwill return ID and name of all locations, where\n\n```graphql\n{\n\tlocationByID(id:\"bG9jYXRpb246MzA1\") {\n\t\tid\n\t\tname\n\t}\n}\n```\n\nwill return ID and name of location with ID of `\"bG9jYXRpb246MzA1\"` only (if it exists).\n\n### Example queries\n\n- Locations ID, name, external ranges and number of servers.\n\n\t```graphql\n\t{\n\t\tlocations {\n\t\t\tid\n\t\t\tname\n\t\t\tnumberOfServers\n\t\t\texternalRanges\n\t\t}\n\t}\n\t```\n\n- Servers ID, FQDN, CPU, memory, system disk size (in bytes), cache disk size (in bytes), IP address,\n\tlocation name, ECDN version with patch level and last check in date.\n\n\t```graphql\n\t{\n\t\tservers {\n\t\t\tid\n\t\t\tfqdn\n\t\t\tlastCheckIn\n\t\t\tlocation {\n\t\t\t\tname\n\t\t\t}\n\t\t\tupdate {\n\t\t\t\tecdnVersion\n\t\t\t\tpatchLevel\n\t\t\t}\n\t\t\thardware {\n\t\t\t\tcpuCores\n\t\t\t\tmemory\n\t\t\t\tsystemDiskSize\n\t\t\t\tcacheDiskSize\n\t\t\t}\n\t\t\tdesiredConfiguration {\n\t\t\t\tinterfaces{\n\t\t\t\t\tlocalIP\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t```\n\n- Servers ID, FQDN, detailed health and status of video delivery.\n\n\t```graphql\n\t{\n\t\tservers {\n\t\t\tid\n\t\t\tfqdn\n\t\t\thealth {\n\t\t\t\tcontentDelivery {\n\t\t\t\t\taggregated\n\t\t\t\t\tupstreams\n\t\t\t\t\tcaching\n\t\t\t\t}\n\t\t\t\toperations {\n\t\t\t\t\taggregated\n\t\t\t\t\tupdates\n\t\t\t\t\tsoftwareVersion\n\t\t\t\t\tapiConnection\n\t\t\t\t\tmetrics\n\t\t\t\t\tntp\n\t\t\t\t\tlogForward\n\t\t\t\t\tremoteAssistance\n\t\t\t\t\tsnmp\n\t\t\t\t}\n\t\t\t}\n\t\t\tvideoDelivery {\n\t\t\t\tcurrentNumberOfViewers\n\t\t\t\tcurrentNumberOfBuffering\n\t\t\t}\n\t\t}\n\t}\n\t```\n\n## Basic workflow\n\n1. Fetch tokens.\n\n\t```sh\n\tcurl 'https://api.ecdn.video.ibm.com/v1/login' \\\n\t\t-d '{\"email\":\"...\",\"password\":\"...\"}'\n\t```\n\n\tReturns:\n\n\t```json\n\t{\n\t\t# JWT token, see https://jwt.io.\n\t\t\"accessToken\": \"YOUR_ACCESS_TOKEN\",\n\t\t# This can only be used once.\n\t\t\"refreshToken\": \"YOUR_REFRESH_TOKEN\",\n\t\t# Currently, refresh token expires in one day.\n\t\t\"refreshAgeSeconds\": 86400\n\t}\n\t```\n\n2. Use API with access token. Note that all if you had a query `{servers{id}}` at API Browser,\n\t you must send it as `'{\"query\":\"{servers{id}}\"}'` if you use the API directly.\n\n\t```sh\n\tcurl -H 'Authorization: Bearer YOUR_ACCESS_TOKEN' \\\n\t\thttps://api.ecdn.video.ibm.com/v1/graphql \\\n\t\t-d '{\"query\":\"{servers{id}}\"}'\n\t```\n\n3. Refresh tokens. Currently your access token expires in 5 minutes.\n\t The actual expiration time can be extracted from [JWT](https://jwt.io)'s `exp` field.\n\t Therefore, you must use your refresh token to request a new access token before/if it expires.\n\n\t```sh\n\tcurl 'https://api.ecdn.video.ibm.com/v1/token/refresh' \\\n\t\t-d '{\"refreshToken\":\"YOUR_REFRESH_TOKEN\"}'\n\t```\n\n\tReturns:\n\t\n\t```json\n\t{\n\t\t# JWT token, see https://jwt.io.\n\t\t\"accessToken\": \"YOUR_NEW_ACCESS_TOKEN\",\n\t\t# This can only be used once.\n\t\t\"refreshToken\": \"YOUR_NEW_REFRESH_TOKEN\",\n\t\t# Currently, refresh token expires in one day.\n\t\t\"refreshAgeSeconds\": 86400\n\t}\n\t```","type":"Mdx","contentDigest":"76aa035389e75d1c7ab45112b51e0e7b","counter":278,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Getting started","description":"Getting started (Auto generated file, please do not modify)"},"exports":{},"rawBody":"---\ntitle: Getting started\ndescription: Getting started (Auto generated file, please do not modify)\n---\n\n## Introduction\n\nThe IBM ECDN (Enterprise Content Delivery Network) API lets you monitor and manage your ECDN locations, servers and other resources.\n\n## Try it out\n\n[API Browser](https://ecdn.video.ibm.com/graphiql) is the easiest way to try ECDN's GraphQL API.\nYou can log in via your ECDN credentials.\nGenerated documentation can be found by opening `Docs` in the upper-right corner, which are also available on this site.\n\n## GraphQL\n\nWe suggest reading the [official GraphQL documentation](https://graphql.org/learn/)\nto get a basic understanding of its usage. This documentation focuses on ECDN specific usage.\n\n### All/specific resources\n\nWe will use `servers` and `locations` throughout this document, which covers all servers and/or all locations when used.\nIf you want to query them one-by-one use `serverByID` and `locationByID` instead. i.e:\n\n```graphql\n{\n\tlocations {\n\t\tid\n\t\tname\n\t}\n}\n```\n\nwill return ID and name of all locations, where\n\n```graphql\n{\n\tlocationByID(id:\"bG9jYXRpb246MzA1\") {\n\t\tid\n\t\tname\n\t}\n}\n```\n\nwill return ID and name of location with ID of `\"bG9jYXRpb246MzA1\"` only (if it exists).\n\n### Example queries\n\n- Locations ID, name, external ranges and number of servers.\n\n\t```graphql\n\t{\n\t\tlocations {\n\t\t\tid\n\t\t\tname\n\t\t\tnumberOfServers\n\t\t\texternalRanges\n\t\t}\n\t}\n\t```\n\n- Servers ID, FQDN, CPU, memory, system disk size (in bytes), cache disk size (in bytes), IP address,\n\tlocation name, ECDN version with patch level and last check in date.\n\n\t```graphql\n\t{\n\t\tservers {\n\t\t\tid\n\t\t\tfqdn\n\t\t\tlastCheckIn\n\t\t\tlocation {\n\t\t\t\tname\n\t\t\t}\n\t\t\tupdate {\n\t\t\t\tecdnVersion\n\t\t\t\tpatchLevel\n\t\t\t}\n\t\t\thardware {\n\t\t\t\tcpuCores\n\t\t\t\tmemory\n\t\t\t\tsystemDiskSize\n\t\t\t\tcacheDiskSize\n\t\t\t}\n\t\t\tdesiredConfiguration {\n\t\t\t\tinterfaces{\n\t\t\t\t\tlocalIP\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t```\n\n- Servers ID, FQDN, detailed health and status of video delivery.\n\n\t```graphql\n\t{\n\t\tservers {\n\t\t\tid\n\t\t\tfqdn\n\t\t\thealth {\n\t\t\t\tcontentDelivery {\n\t\t\t\t\taggregated\n\t\t\t\t\tupstreams\n\t\t\t\t\tcaching\n\t\t\t\t}\n\t\t\t\toperations {\n\t\t\t\t\taggregated\n\t\t\t\t\tupdates\n\t\t\t\t\tsoftwareVersion\n\t\t\t\t\tapiConnection\n\t\t\t\t\tmetrics\n\t\t\t\t\tntp\n\t\t\t\t\tlogForward\n\t\t\t\t\tremoteAssistance\n\t\t\t\t\tsnmp\n\t\t\t\t}\n\t\t\t}\n\t\t\tvideoDelivery {\n\t\t\t\tcurrentNumberOfViewers\n\t\t\t\tcurrentNumberOfBuffering\n\t\t\t}\n\t\t}\n\t}\n\t```\n\n## Basic workflow\n\n1. Fetch tokens.\n\n\t```sh\n\tcurl 'https://api.ecdn.video.ibm.com/v1/login' \\\n\t\t-d '{\"email\":\"...\",\"password\":\"...\"}'\n\t```\n\n\tReturns:\n\n\t```json\n\t{\n\t\t# JWT token, see https://jwt.io.\n\t\t\"accessToken\": \"YOUR_ACCESS_TOKEN\",\n\t\t# This can only be used once.\n\t\t\"refreshToken\": \"YOUR_REFRESH_TOKEN\",\n\t\t# Currently, refresh token expires in one day.\n\t\t\"refreshAgeSeconds\": 86400\n\t}\n\t```\n\n2. Use API with access token. Note that all if you had a query `{servers{id}}` at API Browser,\n\t you must send it as `'{\"query\":\"{servers{id}}\"}'` if you use the API directly.\n\n\t```sh\n\tcurl -H 'Authorization: Bearer YOUR_ACCESS_TOKEN' \\\n\t\thttps://api.ecdn.video.ibm.com/v1/graphql \\\n\t\t-d '{\"query\":\"{servers{id}}\"}'\n\t```\n\n3. Refresh tokens. Currently your access token expires in 5 minutes.\n\t The actual expiration time can be extracted from [JWT](https://jwt.io)'s `exp` field.\n\t Therefore, you must use your refresh token to request a new access token before/if it expires.\n\n\t```sh\n\tcurl 'https://api.ecdn.video.ibm.com/v1/token/refresh' \\\n\t\t-d '{\"refreshToken\":\"YOUR_REFRESH_TOKEN\"}'\n\t```\n\n\tReturns:\n\t\n\t```json\n\t{\n\t\t# JWT token, see https://jwt.io.\n\t\t\"accessToken\": \"YOUR_NEW_ACCESS_TOKEN\",\n\t\t# This can only be used once.\n\t\t\"refreshToken\": \"YOUR_NEW_REFRESH_TOKEN\",\n\t\t# Currently, refresh token expires in one day.\n\t\t\"refreshAgeSeconds\": 86400\n\t}\n\t```","fileAbsolutePath":"/home/travis/build/IBM/video-streaming-developer-docs/src/pages/ecdn-api-getting-started.mdx"}}}}